# 数据类型

ecmascript标准(ECMAScript-262规范)中, 内建数据类型分基本数据类型和Object类型.

标准中并没有使用 `primitive type`(原始类型) 这样的术语, 而是使用了 `primitive value` (原始值)这样的名称.

基本数据类型主要有 `boolean`, `number` 和`string`.

一个数据类型代表着一个集合.

## boolean

布尔型`boolean` 这个集合内容最少, 里面只有两个元素, `true` 和 `false` .


## number

数字类型`number`代表着数字的集合. 如果数字再细分一下, 这里就分作整数和浮点数.
整数包含了所有数字意义上的整数, 不再如java一样细分为`byte`, `short`, `int`, `long`等类型, 浮点数也不java一样细分为`float`, `double`.

有意思的是, 99%的编程语言, 使用的数字只能覆盖数字中的`数`的很少一部分.
我们不关心虚数. 就算在实数里, 也不关心无理数, 只关心有理数(再准确点, 是有理数的一个子集).

所有有浮点数参与的运算都是近似运算: 浮点计算是指浮点数参与的运算，这种运算通常伴随着因为无法精确表示而进行的近似或舍入。
有浮点计算的表达式 `0.1 + 0.2` 的运算结果不等于 `0.3` 就是一个很好的例子.

数可以用 `科学计数法` 表示, 如 `5.2e2` 就是一个科学计数法表示的数字.

数也是有进制的, 自然生活中常用的进行是10进制(因为人有十个手指).

在中国古代, 计重是十六进制, 我们用词语`半斤八两`表示两个部分相当, 其实半斤就是八两了.

在css中, 也很偏爱十六进制, 计算机显示一幅画面时, 它通过有限个彩色的点组合起来显示. 

每一个点的颜色, 可通过三原色(红red, 绿green, 蓝blue)按不同的比例混合得出, 所以一个颜色也可以用RGB值来表示.

所谓RGB值(如 `#ffe1da` 这样就是一个RGB值表示的颜色), 它们就是十六进制表示的. 十六进制, 通过字母(a到f)来表示(10到15), 0~9的表示仍然同十进制相同.

> 提示, 为啥十六进制中, 某一个位的最大值只能是15而不是16?

`#ffe1da` 是一个颜色, 它前面有一个标识用的 `#`, 它是css中的写法.
然而要在js中用十六进制表示一个数的话, 仍然需要在前面加一个标识 `0x` (x不区分大小写). 

注意, 这里的`0x`中, 第一个是数字零而不是单词ok中的字母o

如 `0xa` 就是一个十六进制的数, 它是数字 `10`的十六进制的表示法.
表示式 `0xa === 10` 的结果是 true.

我们可以使用定义在Number对象上的静态方法parseInt 来将一个字符串(里面内容是数字)如`"1010"`转换成数字:

`Number.parseInt("1010", 2)`, parseInt第二位是进制数, 默认是10进制, 这里是二进制, 表示字符串的数字的进制数.
这里parse得出的结果是 `10` .

也可以用定义在Number对象上的实例方法toString 来将一个数字转换为字符串表示.

该toString方法可接受一个参数, 默认是10, 即默认是转换为十进制的字符串表示法.

表示式 `Number(10).toString(2)` 的输出结果是 `"1010"` . 


## string

和java不同, js里可以使用单引号也可以使用双引号来表示字符串, 只要匹配即可. `'hello'` 和 `"hello"` 是一样的.

js里字符串还可以有第三种方法法, 可使用Tab键上面的那个backtick键 "`" 来表示字符串, backtick键的开始结尾同样要匹配, 而且里面可以用使用变量.

```javascript
const name = 'An';
const message = `Hello ${name}!`;
console.log(message); // => Hello An!
```

在上面的第二行, ${name}表示引用一个name的变量. 其实这也可以叫模板字符串, 它的语法受到了以前jQuery时代的模板引擎的启迪.

和java不同, js里的字符串是基本数据类型而非引用数据类型.

在一个声明赋值表达式中 `let a = xxx` (xxx在这里代表任意值),
如果xxx是一个基础数据类型, 那么xxx放在栈中; 
如果xxx是一个引用数据类型, 那么xxx放在堆中.

在这里的`堆`和`栈`是js执行引擎中一个特殊的数据结构. 其实, 成熟的自然语言的执行引擎, 都有堆和栈这两个到关重要的结构.

堆和栈(或者说基本数据类型与引用数据类型)影响啥呢?

了解这个区别, 对于我们理解正确或者错误的赋值行为比较有用. 我们可以通过"判断相等"来辅助理解它们的区别.

假如有下面这样的一些变量声明

```javascript
const a = 1;
const b = 1
const c = "abc";
const d = "abc";
const e = [1,2,3];
const f = [1,2,3];
const g = {age:18};
const h = {age:18};
```

因为数字和字符串都是基本数据类型(它们放在栈里), 所以表达式`a===b`, `c===d`的值都为true.

因为数组和对象都是引用数据类型(它们放在堆里), 所以表达式`e===f`, `g===h`的值都为false.

放在堆里或者栈里, 出发点都是一致的, 那就是为了使用方便高效.

栈有非常频繁的入栈和出栈操作, 栈类似于物理世界里的钱包, 它里面的数据(基本数据类型)类似于现金, 随身携带, 好方便使用.

而堆主要用来存放复杂的数据, 堆类似于银行, 它里面的数据类似于银行账户, 主要是为了方便转移修改账户.
